(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{103:function(e,t,n){"use strict";var c=n(10);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(11)),o=n(0),s=(0,a.default)((0,o.jsx)("path",{d:"M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"}),"PermMedia");t.default=s},104:function(e,t,n){"use strict";var c=n(10);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(11)),o=n(0),s=(0,a.default)((0,o.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Room");t.default=s},105:function(e,t,n){"use strict";var c=n(10);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(11)),o=n(0),s=(0,a.default)((0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM8.5 8c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8zM12 18c-2.28 0-4.22-1.66-5-4h10c-.78 2.34-2.72 4-5 4zm3.5-7c-.83 0-1.5-.67-1.5-1.5S14.67 8 15.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"EmojiEmotions");t.default=s},130:function(e,t,n){e.exports={"share-container":"Share_share-container__2hShP","img-container":"Share_img-container__3bjj-","input-container":"Share_input-container__2nbYm","share-actions":"Share_share-actions__T-dzA","share-actions__action":"Share_share-actions__action__HevCs","ui-button":"Share_ui-button__3UaGo"}},131:function(e,t,n){e.exports={"form-items__container":"NewPost_form-items__container__JVXoB","form-items__input-container":"NewPost_form-items__input-container__s35yx",actions:"NewPost_actions__2TaZz","close-btn":"NewPost_close-btn__3bgFB","image-upload__preview":"NewPost_image-upload__preview__3c0M3"}},132:function(e,t,n){"use strict";var c=n(10);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(11)),o=n(0),s=(0,a.default)((0,o.jsx)("path",{d:"M4 9h16v2H4V9zm0 4h10v2H4v-2z"}),"ShortText");t.default=s},138:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n.n(c),o=n(18),s=n(12),r=n(3),i=n(1),l=n(96),u=n(106),j=n(43),b=n(14),d=n(103),p=n.n(d),h=n(104),O=n.n(h),f=n(105),x=n.n(f),m=n(102),_=n.n(m),v=n(130),k=n.n(v),C=n(131),g=n.n(C),y=n(42),N=function(e){var t=Object(i.useState)(e||!1),n=Object(r.a)(t,2),c=n[0],a=n[1],o=Object(i.useCallback)((function(e,t){a(!0),setTimeout((function(){e(t)}),100)}),[]),s=Object(i.useCallback)((function(){a(!1)}),[]),l=Object(i.useCallback)((function(e,t){a(!1),e(t)}),[]);return{buttonIsClicked:c,openNewPostBtnHandler:o,setButtonIsClicked:a,closeFocusInputButton:l,resetButtonClicked:s}},w=n(132),P=n.n(w),I=n(83),B=n(16),S=n(15),H=n(0),F=function(e){var t=Object(I.a)(e.caption),n=t.value,c=t.valueChangeHandler,o=t.setValue,l=Object(I.a)(),u=l.value,j=l.valueChangeHandler,d=l.setValue,h=Object(I.a)(),f=h.value,m=h.valueChangeHandler,_=h.setValue,v=Object(B.a)(),k=v.isLoading,C=v.error,w=v.sendRequest,F=v.clearError,z=e.photoIsClick,M=e.locationIsClick,L=e.feelingIsClick,A=e.shareIsClick,E=N(e.shareIsClick),T=E.buttonIsClicked,R=E.openNewPostBtnHandler,D=E.closeFocusInputButton,V=N(e.photoIsClick),X=V.buttonIsClicked,U=V.openNewPostBtnHandler,G=V.closeFocusInputButton,J=N(e.locationIsClick),W=J.buttonIsClicked,q=J.openNewPostBtnHandler,Y=J.closeFocusInputButton,Z=N(e.feelingIsClick),K=Z.buttonIsClicked,Q=Z.openNewPostBtnHandler,$=Z.closeFocusInputButton,ee=Object(i.useRef)(),te=Object(i.useRef)(),ne=Object(i.useRef)(),ce=Object(i.useRef)();Object(i.useEffect)((function(){return z?ne.current.click():M?te.current.focus():L?ce.current.focus():A&&ee?ee.current.focus():void 0}),[z,M,L,A,ee]);var ae=Object(i.useState)(),oe=Object(r.a)(ae,2),se=oe[0],re=oe[1],ie=Object(i.useState)(),le=Object(r.a)(ie,2),ue=le[0],je=le[1];Object(i.useEffect)((function(){if(ue){var e=new FileReader;e.onload=function(){re(e.result)},e.readAsDataURL(ue)}}),[ue]);var be=function(){var t=Object(s.a)(a.a.mark((function t(c){var s,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),ee.current||te.current||ne.current||ce.current){t.next=3;break}return t.abrupt("return",console.log("You can't create post without attaching anything"));case 3:return t.prev=3,(r=new FormData).append("caption",n),r.append("location",u),r.append("image",ue),r.append("feeling",f),r.append("userId",e.id),t.next=12,w("".concat("https://mern-book-social.herokuapp.com/api","/posts/"),"POST",r,{Authorization:"Bearer ".concat(e.token)});case 12:s=t.sent,t.next=17;break;case 15:t.prev=15,t.t0=t.catch(3);case 17:if(s){t.next=19;break}return t.abrupt("return");case 19:o(""),_(""),je(),d(""),e.onAddPost(),e.closeModal();case 25:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(H.jsxs)(H.Fragment,{children:[C&&Object(H.jsx)(S.a,{onClose:F,text:C,onlyBack:!0,overlay:!0}),Object(H.jsx)(y.a,{header:"Create Post",footer:Object(H.jsxs)(i.Fragment,{children:[Object(H.jsx)(b.a,{onClick:e.onClose,danger:!0,children:"Close"}),Object(H.jsx)(b.a,{type:"submit",inverse:!0,children:k?"Creating....":"Create"})]}),onClose:e.onClose,onSubmit:be,children:Object(H.jsxs)("div",{className:g.a["form-items__container"],children:[T&&Object(H.jsxs)("div",{className:g.a["form-items__input-container"],children:[Object(H.jsx)("label",{htmlFor:"caption",children:"Caption"}),Object(H.jsx)("textarea",{rows:"3",placeholder:"Write a Caption Text",onChange:c,value:n,ref:ee}),Object(H.jsx)("button",{onClick:D.bind(null,o,""),className:g.a["close-btn"],children:"X"})]}),X&&Object(H.jsxs)("div",{className:g.a["form-items__input-container"],children:[Object(H.jsx)("label",{htmlFor:"image",children:"Image"}),Object(H.jsx)("input",{type:"file",style:{display:"none"},accept:".jpg,.jpeg,.png",placeholder:"Pick an Image",ref:ne,onChange:function(e){var t;(e.target.files||1===e.target.files.length)&&(t=e.target.files[0],je(t))}}),Object(H.jsxs)("div",{className:g.a["image-upload__preview"],children:[se&&Object(H.jsx)("img",{src:se,alt:"preveiw"}),!se&&Object(H.jsx)("p",{children:"Please Pick an Image"})]}),Object(H.jsx)("button",{onClick:G.bind(null,re,""),className:g.a["close-btn"],children:"X"})]}),W&&Object(H.jsxs)("div",{className:g.a["form-items__input-container"],children:[Object(H.jsx)("label",{htmlFor:"location",children:"Location"}),Object(H.jsx)("input",{type:"text",placeholder:"Write your Location",ref:te,onChange:j,value:u}),Object(H.jsx)("button",{onClick:Y.bind(null,d,""),className:g.a["close-btn"],children:"X"})]}),K&&Object(H.jsxs)("div",{className:g.a["form-items__input-container"],children:[Object(H.jsx)("label",{htmlFor:"feeling",children:"Feeling"}),Object(H.jsxs)("select",{title:"feelings",ref:ce,onChange:m,value:f,children:[Object(H.jsx)("option",{defaultValue:!0,children:"--Select an Option--"}),Object(H.jsx)("option",{children:"\ud83d\ude0a Happy"}),Object(H.jsx)("option",{children:"\ud83d\ude41 Sad"}),Object(H.jsx)("option",{children:"\ud83d\udd25 Lit"}),Object(H.jsx)("option",{children:"\ud83d\ude28 Scared"}),Object(H.jsx)("option",{children:"\ud83d\ude37 Unwell"}),Object(H.jsx)("option",{children:"\ud83d\ude0d In Love"}),Object(H.jsx)("option",{children:"\ud83d\ude21 Angry"}),Object(H.jsx)("option",{children:"\ud83d\ude04 Excited"}),Object(H.jsx)("option",{children:"\ud83d\ude4f Thankful"}),Object(H.jsx)("option",{children:"\ud83e\udd2a Crazy"}),Object(H.jsx)("option",{children:"\ud83d\ude07 Blessed"}),Object(H.jsx)("option",{children:"\ud83d\ude2c Awkward"})]}),Object(H.jsx)("button",{onClick:$.bind(null,_,""),className:g.a["close-btn"],children:"X"})]}),Object(H.jsxs)("div",{className:g.a.actions,children:[Object(H.jsxs)("button",{type:"button",className:g.a["share-actions__action"],onClick:R.bind(null,(function(){ee.current.focus()})),children:[Object(H.jsx)(P.a,{style:{color:"rgb(110,55,27)"}}),Object(H.jsx)("span",{style:{color:"rgb(110,55,27)"},children:"Caption"})]}),Object(H.jsxs)("button",{type:"button",className:g.a["share-actions__action"],onClick:U.bind(null,(function(){ne.current.click()})),children:[Object(H.jsx)(p.a,{style:{color:"green"}}),Object(H.jsx)("span",{style:{color:"green"},children:"Photo"})]}),Object(H.jsxs)("button",{type:"button",className:g.a["share-actions__action"],onClick:q.bind(null,(function(){te.current.focus()})),children:[Object(H.jsx)(O.a,{}),Object(H.jsx)("span",{children:"Location"})]}),Object(H.jsxs)("button",{type:"button",className:g.a["share-actions__action"],onClick:Q.bind(null,(function(){ce.current.focus()})),children:[Object(H.jsx)(x.a,{style:{color:"darkgoldenrod"}}),Object(H.jsx)("span",{style:{color:"darkgoldenrod"},children:"Feeling"})]})]})]})})]})},z=n(7),M=function(e){var t=Object(i.useState)(!1),n=Object(r.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(!1),s=Object(r.a)(o,2),l=s[0],u=s[1],d=Object(i.useContext)(z.a),h=N(),f=h.buttonIsClicked,m=h.openNewPostBtnHandler,v=h.resetButtonClicked,C=N(),g=C.buttonIsClicked,y=C.openNewPostBtnHandler,w=C.resetButtonClicked,P=N(),I=P.buttonIsClicked,B=P.openNewPostBtnHandler,M=P.resetButtonClicked,L=N(),A=L.buttonIsClicked,E=L.openNewPostBtnHandler,T=L.resetButtonClicked,R=Object(i.useRef)();return Object(H.jsxs)(i.Fragment,{children:[l&&Object(H.jsx)(S.a,{onConfirm:function(){a(!1),u(!1),v(),M(),T(),w()},onClose:function(){u(!1)},text:"All input you enter will delete and cant't be restored",overlay:!0}),c&&Object(H.jsx)(F,{onAddPost:e.onAdd,onClose:function(){u(!0)},caption:R.current.value,photoIsClick:f,locationIsClick:I,feelingIsClick:A,shareIsClick:g,closeModal:function(){a(!1)},id:d.userData.id,token:d.token}),Object(H.jsx)(j.a,{children:Object(H.jsxs)("div",{className:k.a["share-container"],children:[Object(H.jsx)("div",{className:k.a["img-container"],children:Object(H.jsx)("img",{src:"".concat("https://mern-book-social.herokuapp.com","/").concat(d.userData.image),alt:d.userData.name})}),Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(a,!0)},children:[Object(H.jsx)("div",{className:k.a["input-container"],children:Object(H.jsx)("textarea",{rows:"3",placeholder:"What's on your mind, ".concat(d.userData.name,"?"),ref:R})}),Object(H.jsxs)("div",{className:k.a["share-actions"],children:[Object(H.jsxs)("button",{type:"button",className:k.a["share-actions__action"],onClick:m.bind(null,a,!0),children:[Object(H.jsx)(p.a,{style:{color:"green"}}),Object(H.jsx)("span",{style:{color:"green"},children:"Photo"})]}),Object(H.jsxs)("button",{type:"button",className:k.a["share-actions__action"],onClick:B.bind(null,a,!0),children:[Object(H.jsx)(O.a,{}),Object(H.jsx)("span",{children:"Location"})]}),Object(H.jsxs)("button",{type:"button",className:k.a["share-actions__action"],onClick:E.bind(null,a,!0),children:[Object(H.jsx)(x.a,{style:{color:"darkgoldenrod"}}),Object(H.jsx)("span",{style:{color:"darkgoldenrod"},children:"Feeling"})]}),Object(H.jsxs)(b.a,{className:k.a["ui-button"],type:"submit",children:[Object(H.jsx)(_.a,{}),Object(H.jsx)("span",{children:"Share"})]})]})]})]})})]})},L=n(26);t.default=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],j=Object(i.useState)(1),b=Object(r.a)(j,2),d=b[0],p=b[1],h=Object(i.useState)(1),O=Object(r.a)(h,2),f=O[0],x=O[1],m=Object(i.useState)(),_=Object(r.a)(m,2),v=_[0],k=_[1],C=Object(i.useContext)(z.a),g=C.token,y=C.isLoggedIn,N=Object(B.a)(),w=N.isLoading,P=N.error,I=N.sendRequest,F=N.clearError;Object(i.useEffect)((function(){var e=function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=11;break}return e.prev=1,e.next=4,I("".concat("https://mern-book-social.herokuapp.com/api","/posts/?page=").concat(d),"GET",null,{Authorization:"Bearer ".concat(g)});case 4:t=e.sent,x(t.totalPages),c(Object(o.a)(t.posts)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),t=setTimeout((function(){e()}));return function(){clearTimeout(t)}}),[I,d,g,y]),Object(i.useEffect)((function(){Object(l.a)("https://mern-book-social.herokuapp.com").on("create-post",(function(e){k(e.post)}))}),[]);var A=function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("".concat("https://mern-book-social.herokuapp.com/api","/posts/?page=1"),"GET",null,{Authorization:"Bearer ".concat(g)});case 3:t=e.sent,x(t.totalPages),c(Object(o.a)(t.posts)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:k(null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(H.jsxs)(i.Fragment,{children:[P&&Object(H.jsx)(S.a,{onClose:F,text:P,onlyBack:!0,overlay:!0}),Object(H.jsx)(M,{onAdd:A}),!w&&!P&&Object(H.jsx)(u.a,{posts:n,onUpdate:A,onNext:function(){p((function(e){return e<=f?e+1:e}))},onPrev:function(){p((function(e){return e>1?e-1:1}))},page:d,totalPages:f,isLoading:w,updatedPost:v}),w&&Object(H.jsx)(L.a,{center:!0})]})}}}]);
//# sourceMappingURL=7.db0fe5ab.chunk.js.map